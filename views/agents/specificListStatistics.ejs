<%- include ("../partials/header")%>

<div class="container">

    <div class="row">
        <div style="text-align: center;">



            <h1 style="text-align: center; text-decoration: underline;">סטיסטיקות קודמות </h1>

            <%=console.log(reportGoal)%>
            <%for(var b=0 ; b<reportGoal.length; b++){%>
            <%for(var i=0 ; i<statistics.length; i++){%>

            <%if(reportGoal[b]._id.statistics == statistics[i].id){%>
            <table class="table table-bordered table-dark " style="margin-bottom: 100px; width:200px">


                <thead>
                    <tr>
                        <td colspan="10"> סטטיסטיקה מספר :<%=b+1%> </td>
                    </tr>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">פגישות </th>
                        <th scope="col">הדבקות סטיקרים </th>
                        <th scope="col">למידה והתחדשות </th>
                        <th scope="col">משא ומתן בתהליך</th>
                        <th scope="col">עסקאות בפועל </th>
                        <th scope="col">סיורי שוכרים </th>
                        <th scope="col">שתופי פעולה </th>
                        <th scope="col">שיחות ללקוחות קודמים </th>
                        <th scope="col">הצעות מחיר </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>נדרש</strong></td>
                      
                        <td class="needed"><strong><%=statistics[i].meeting%></strong></td>
                        <td class="needed"><strong> <%=statistics[i].stickerFlyers%></strong></td>
                        <td class="needed"><strong><%=statistics[i].learninGandRenewal%></strong></td>
                        <td class="needed"><strong><%=statistics[i].negotiationsInTheProcess%></strong></td>
                        <td class="needed"><strong><%=statistics[i].actualTransactions%></strong></td>
                        <td class="needed"><strong><%=statistics[i].rentalTours%></strong></td>
                        <td class="needed"><strong><%=statistics[i].collaborations%></strong></td>
                        <td class="needed"><strong><%=statistics[i].conversationsWithPreviousClients%></strong></td>
                        <td class="needed"><strong><%=statistics[i].pricesOffer%></strong></td>
                    </tr>
                    <tr>
                        <td><strong>בפועל</strong></td>
                        <td class="actual"><strong><%=reportGoal[b].countmeeting%></strong></td>
                        <td class="actual"><strong><%=reportGoal[b].countstickerflyers%></strong></td>
                        <td class="actual"><strong><%=reportGoal[b].countlearninGandRenewal%></strong></td>
                        <td class="actual"><strong><%=reportGoal[b].countnegotiationsInTheProcess%></strong></td>
                        <td class="actual"><strong><%=reportGoal[b].countactualTransactions%></strong></td>
                        <td class="actual"><strong><%=reportGoal[b].countrentalTours%></strong></td>
                        <td class="actual"><strong><%=reportGoal[b].countcollaborations%></strong></td>
                        <td class="actual"><strong><%=reportGoal[b].countconversationsWithPreviousClients%></strong>
                        </td>
                        <td class="actual"><strong><%=reportGoal[b].countpricesOffer%></strong></td>
                    </tr>
                </tbody>
            </table>
            <%}%>
    <%}%>
            <%}%>
          
      </div>
   </div>
</div>
<script>
 
      
        var actual = document.querySelectorAll(".actual");
        var needed = document.querySelectorAll(".needed");
        
        var i;
        var b;   
        for (i = 0; i < needed.length; i++) {
            if (parseInt(actual[i].innerText) > parseInt(needed[i].innerText)) {
            
                actual[i].style.backgroundColor = "green";
            } else if (parseInt(actual[i].innerText ) < parseInt(needed[i].innerText)) {
                
                actual[i].style.backgroundColor = "red";
                
            } else if (parseInt(actual[i].innerText === 0)) {
                actual[i].style.backgroundColor = "yellow";
                
            }
        }

    </script>
<%- include ("../partials/footer")%>